<!DOCTYPE HTML>
<html lang="en">
	<head>
		<title>ImageFlow_Demo</title>
		<meta charset="utf-8">
		<style type="text/css">
			body {
				background:#fff;
				padding:0;
				margin:0;
				font-weight: bold;
				overflow:hidden;
			}
		</style>
	</head>	
		
	<body>
		<!-- <script src="js/Three.js"></script> -->
		<script src="js/Three_debug.js"></script>
		<script src="js/RequestAnimationFrame.js"></script>
		<script src="js/Stats.js"></script>
		<script src="js/AdditionalShaders.js"></script>
		
		<script type="text/javascript">
		
		var camera;
		var scene;
		var renderer;
		var dirLight;
		var pointLight;
		var stats;
		var container;
		var jsonLoader;
		var jsonMesh;
		
		var fCamMoveSpeed = 250;
		var fCamLookSpeed = 0.5;
		
		init();
		animate();
		
		function jsonLoaderCallback( Geometry )
		{
			jsonMesh = new THREE.Mesh( Geometry, new THREE.MeshLambertMaterial( { color: 0xff0000 } ) );
			scene.addObject( jsonMesh );
		}
		
		function init()
		{
			container = document.createElement('div');
			document.body.appendChild(container);
			
			renderer	= new THREE.WebGLRenderer( { stencil: true, antialias: false, clearColor: new THREE.Color( 0xffffff ) } );
			renderer.setSize( window.innerWidth, window.innerHeight );
			container.appendChild( renderer.domElement );
			
			jsonLoader = new THREE.JSONLoader();
			jsonLoader.load( { model: "duck_triangulate.json", callback: jsonLoaderCallback } );
			
			scene 		= new THREE.Scene();
			
			camera 		= new THREE.FlyCamera( { fov: 60, aspect: window.innerWidth / window.innerHeight, near: 1, far: 500, movementSpeed: fCamMoveSpeed, rollSpeed: fCamLookSpeed, dragToLook : true } );//THREE.Camera( 75, window.innerWidth / window.innerHeight, 1, 10000 );
			camera.position.z = 100;
			camera.position.y = 10; 
			
			dirLight = new THREE.PointLight( 0xffffff, 1, 3000 );
			dirLight.position.y = 40;
			dirLight.position.z = 20;
			scene.addLight( dirLight );
			
			scene.addLight( new THREE.AmbientLight( 0x646464 ) );
			
			var cube = new THREE.Mesh( new THREE.Cube( 20, 20, 20 ), new THREE.MeshLambertMaterial( { color: 0xff0000 } ) );
			//scene.addObject( cube );
			
			stats = new Stats();
			stats.domElement.style.position = 'absolute';
			stats.domElement.style.top = '0px';
			container.appendChild( stats.domElement );
			
		}
		
	
		
		function animate()
		{
			requestAnimationFrame( animate );
			
			render();
			stats.update();
		}
		
		function render()
		{
			renderer.clear();
			renderer.render( scene, camera );
		}
		
				
		</script>

	</body>
</html>
